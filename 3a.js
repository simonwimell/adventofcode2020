var map = ['.........#..##..#..#........#..', '#...#..#..#...##.....##.##.#...', '....#..............#....#....#.', '#.#..#.....#...#.##..#.#.#.....', '........#..#.#..#.......#......', '.#........#.#..###.#....#.#.#..', '........#........#.......#.....', '...##..#.#.#........##.........', '#.#.##..###............#...#...', '............#....#.......###.##', '....##....##..#........#......#', '............#.#..........#.....', '#.#....#....##...#.....#.....#.', '......#.#.#...#.....###....#..#', '...........##..#.........#..#.#', '..#..#.................#..#..#.', '.#....###...#.......#.........#', '#.#.#.#...#......#.......#...#.', '.......#.#.#...#..............#', '...##.......#..##.#.......##...', '#.#.##....#..##..##..###...###.', '.#......##.##.#....#.##........', '..###.............##..##..#....', '.....#.#...........#..##..##...', '.###.#.#......#.....#........##', '...#.......#...##..#..#..#.....', '..............#.#..##.##..##..#', '#..#.#......#............#.....', '........#..#....#..............', '...#...#..............#.#####..', '...##......#........#.#...#....', '..##......#............#..#..#.', '....#.........#.#.#.....###.#..', '#....#........#........#....#.#', '.....#...#..##.....##...#.....#', '#...#.#.#...##..##.###.#.#.....', '......#.#..........#...#.##....', '..............##...#..#.......#', '........##.....#.....#.#....#..', '..............#..#..#...#.....#', '##......##.......##...#.#....#.', '.....#.............#.#.........', '#.........##..#..#.........##..', '..#..#.....#####.........##.#..', '.......##.#......#........#....', '#.................#.#...#....#.', '...#........#.###.##.##.....#..', '#.....##..#...##.#.#......#....', '.....#..#.#..........##..#.##..', '..###.............#..#..#...#..', '...###..#...#.....##..........#', '#.......#.#...#....#..##..#..#.', '.#..#.........#..............#.', '..######.....#....##......#....', '#..##...#......#..#.#....#.....', '.#...................#.#.....#.', '..#...#.#..#.#......#..#...#..#', '..##..##.#.##.........#.#.#....', '...#...#...........#..##.##...#', '#...#....#....#....#..#.##..#..', '..#.##....#....###..#..........', '#.#..##.#.#...##.#..#.##..#.#..', '#......##...#.#..........#..#..', '#.#...#..#...#.#.#..#........#.', '#.#.##.#..#...#..#.#.##........', '.....#......#........#..#......', '...#....#.#....#...............', '....#..###..#....#..#....#....#', '.#........###..........##.##.#.', '#.#......##....##...##.#......#', '#..##.##...#...........##.#.#..', '.#.....#.#...#.................', '##..........#..#....#.....#...#', '....#.#..........##..#.....#.##', '#.#..#..#..##..........#.......', '..#.#.###......................', '......##..##.....#..##.##....#.', '...#.......#.##....#......#....', '...#...#........#...#.#...#..##', '##...#....#.#...#.#.##..##...#.', '...#.....#...#...#....###.#..#.', '..#.#..#........#......#..##..#', '...#......#...#.#.##...##.#.#.#', '....#.#....#....#.....#.....##.', '.....#.#..##.#....##....##.....', '.#...###..#.....#............#.', '#..#.#.#..#..#...#....#...#....', '#.....#..#...#................#', '..........#..#.......#......#.#', '...#..#......#...#......#......', '.#.#.....#.#.#.#......#..#..#..', '.....#.........#.#.#.....##.#..', '.....#.#.....#..#..#..#.....###', '##....#......##....##.#....#.#.', '#####........#..........##.....', '.#...##...#...#.......#....#...', '#.#.##...##...##..##........#..', '#.#..............#.#...#...###.', '...#.....##..#.........#....#.#', '#.#....#....#..##.#..#...#.....', '..#....#.#..#...#...##.....#...', '....#...#......................', '..#...#.......#..#...##....#...', '.#........#...#.....##.##...#..', '#......#..............#..#..#..', '...........#.#..#.#.#....#....#', '.##..##.......#...#..#.....#..#', '...#.........#.........###..#..', '...#.##....#....#.....#.....#..', '.#.#.#.........#.#.#....#....#.', '...#..........##..#....#.#.....', '...#....##................#....', '#....##..#..#........##...#....', '#...#...##.#............#....#.', '##..#....#...#...............#.', '..........#.#...#..##..#.#.....', '..##...##..#....#.#......#.....', '.......#......#.#.....#.....##.', '#...###.....##..##....#.#....#.', '.###......#.....#.#............', '#.....#.....####.##....#..#....', '......###.............#......##', '.........##.......##..#..#..#..', '.#.......#....#...#...#.#......', '#...#..#...#........#...##..#..', '.#....#........#.........##..#.', '..............##.#...##..#.##.#', '.#....#...#....#......#..#.....', '#....##.#...#.#.....###..#....#', '#.......##.#..###..............', '#..#..#..#......#.#..#...#..#.#', '.......#.#.#..#..#...#..#......', '.#..#......#.....#......##..##.', '....#....#.......#.......#.#.##', '.......#.#................#...#', '#.#.....#.......#.#........#...', '.....#....##...#......#.....##.', '.#......#.#...#..#....#....#.##', '##...#.###.#....#..#....#.#...#', '....#.##..##.#.............#...', '#..#.............##.......#.#..', '##.#..#..#.#...........###...##', '.#.#.....#......###........#...', '#.#...#.#....##......#.#....#..', '#.........#..........#.........', '.......#....#...#..#.....#...##', '.......................#...#..#', '.###...........##...#........##', '#.#....######.#........#..##.#.', '..#.##.#...#.#.......#.##.##..#', '#.............###..#.##.#......', '...#..##......#...#..###.....#.', '..........#.....#..#...##..#...', '..##..........#.#..#.....#...#.', '...#.......#.....##.........#..', '#..#.#...#..#...###...#...#.#..', '#.##....#..#.#.......#..#..#...', '..#.##.#......#.#......#....#..', '..........#...##.....###.......', '...#...##..#......#...##.......', '....#........#.#.......#..###..', '.....#.#..........##.#..#..#.#.', '.............##.....#.#..##....', '...#...............##...#......', '....#......#..#....#...##..#...', '.##.#....#.#.....#.#.........#.', '.....#.###....#..###..#.#.....#', '.#.........##.........##...#...', '..#.....###....##..........#..#', '........#..#.#.#..#.......#..##', '..#.#..#.#............#.##.#..#', '.#....#.....#..#...#.......##..', '.#...........#.#..#..###.###...', '..#.....#..#........#.#........', '.#........##........#..#.##....', '......#.....##........##..#....', '.#..................##....#.#..', '.#..#.#..#.#...#........#......', '...#..##.#......#..#..........#', '....#.##...#....##.............', '#....#.##....##.###..#..#..#...', '..........#..#...##.##....#..#.', '.###.#.....#...#...#...#.......', '............#...............#.#', '#....#...#......#....#.#.#.#.##', '...#..........#.#.#.....###....', '#.#...##...#..#.....###...#....', '......#...#..#..#..#.##...##...', '...#..#.#....#...#.#.........##', '##....#..###.#.##.....##.......', '..#.#...#..##.......#.#.......#', '##......#...........#......#...', '.......#..###....###..##.#...##', '.........#.....#..#.......##..#', '.......#.##..#....#...#.#...#..', '#..#.#..................##.#..#', '...#..#..#.....#..#........#...', '...#.#..###..#.....##...#....#.', '..#..#......#...........#...#..', '#...##.##..###.......##........', '.#.....#..#....#.....#.##....#.', '#..#........#.#....#..#...#.###', '..#...#.#.#.....#.....#..#.....', '.##.............#.#......##...#', '.#....#####............#.....##', '#.###.......#.#...##.....#.....', '......#.##..#...#..#..##.#..##.', '......#.#...##.....#...#....##.', '....#............#...#...#....#', '.........##.#.#....#....#....##', '.#...##.#...#.......#.##....#.#', '#....#.#...#.#...#.#.#...#.....', '.#.#.........##..#..#..........', '.#.........#.#.....#..#.#..###.', '....##.#.#..........#..####....', '....#..#.#.#...#...#..#....#...', '..#.#...#...##.......#.#.#..#..', '...##...#......#.....#.#...#..#', '......#.###.#.......##...#...#.', '.....#.#.#......##..........###', '##.#.#.#..#....#...............', '.#.#.##.......#....#.#.....#..#', '.........#...#.#..#.......#....', '....#.####.#......#...#...##...', '#..#..#..#..#....#...##.....##.', '......####.#..##..#.....##.....', '##.#.........#........#..#.#...', '.#.#....#....#.......#.#....##.', '....#....#.......##..#.....#...', '.#......#..#....#.#............', '#..#.#.##.....#..#.#.#.#.#.##..', '.#.....#.....#...#..#.#...#.#..', '.#.#.##............#.#.#.#.#.#.', '.##..........#.....#...###.....', '#.#...#...#................#.#.', '##...#.##.....#.....#.#.##.....', '####.....##..........#......#..', '#.............#..............#.', '.###....#.#...#..#..#..#.......', '..#.#.....#...#..#..####.......', '...#.#..#........#..##..#..#.##', '.#........#..........#.#...##..', '.#.......#.#.#..#...#..#.#...##', '.#.....##......##..............', '......#..#.#.##...##.#.....#...', '.........#.#...##.....##....#.#', '.....##...#........#..#.#..#.#.', '.#.##..#.....##...#...###.#.#..', '...##...#...#..#.#..#..........', '##..............#...#...#.#..#.', '......#..#......#..#.....#...#.', '.......#...#..#....#.....#.....', '..##.....##..#.#........#......', '.###.#...#.....................', '..#...#.................#...#..', '#..#.##...####.............#...', '.##....#..####.......#.........', '#..#...###...#...#..#..##......', '....#.##.#.#.........#.....#..#', '.....#...#.....#.#.#.##.#...##.', '.............#........#.....#..', '...##.###.#....##.......#..#...', '#..#....#....#.#............#..', '.........#.##........##.....#..', '.........#.#.#..#..#.......#...', '.......#.#..#.......#.....#.#..', '##.#.....##...##.....#.#.......', '.#.#.#......##.##.#.........#..', '..#.##..###.....###.........##.', '.#......#..#..##...#.#...##.#.#', '......#.#............#.....#...', '###.#..#..#..#..#.##...#.......', '.#.#.##..###....#......##..###.', '#...#.#.#..#..#..##.#.##....#..', '..#...#...####...#......####.##', '..##.#.####........#..#......#.', '.#..#.......#...#.#.........#..', '........#.#....#..#####..#.....', '.#...........#..#..#..#...#....', '....#....#...#.................', '....##..#....##....#..#....#.##', '....#.##.....###...#...##.##...', '......##.#..##.#.#.#....#.#.#..', '##.#...###....#.#..#.#.###....#', '......###..#..#..........##...#', '..........#.##...##..#....##.#.', '.#...#.#..#.#.#..#.....#.......', '.#....#..#.#..#.#...##.#.#.....', '.##.....#...#..##.#........#...', '....#......#.........#....#..##', '.#..#.#.#.#..#..#.#.........#..', '.........#.....#...#....#......', '#..#..#........#...#.#.........', '...#.#.#...##.#.#...#..#......#', '#.#.#.#........#...#..#.....#..', '.###..#..#..###..#..#..........', '.....#......#.#..#...#.......#.', '##.##.........#.......##.......', '#...##.......#..#.#.......#....', '#..#..#.....#...#......#.......', '.#..#..#.##....#.#..#...#...#..', '.#...#.....#..#.........#..#...', '...#.#.#.......#....#..##.....#', '.........#..##.#..#..#.#.......', '#.##.....##..###..#..#..#.##...', '........#......#...##...###..##', '.##....##..#..#..###......#....', '............##......#...#..##..', '...##.......#......#...##.##..#', '...#..#..#.#...####.#.......#..', '..#.##..#....#......#.#.....#..', '..#.##..............#..##.....#', '.....##....#......#....#......#', '......#..#......#.........#..#.', '...#.##.###...###..#.##........', '..........####.#.##.....#..#.##', '#...##...........#...........##', '#.#..#.#....#.#..#....##......#', '.......#...#.....#......#.#.##.', '....#.##..##..........#..#.....', '#.#.#...#......#...#.....#.##.#', '........#.......#..##.....##...', '.....####.#....#.#.............'];

var slopesToTry = [
    [1, 1],
    [3, 1],
    [5, 1],
    [7, 1],
    [1, 2],
];

function trySlopes(map, right, down) {
    var m = 1;
    var m2 = m + down;
    var c = right;
    var treeCount = 0;

    for (const mapLine of map) {

        if (m != m2) {
            m++;
            continue;
        }

        var lineLength = mapLine.length;

        if (mapLine[c] === "#") {
            treeCount++;
        }

        console.log('Mapline ' + m + ', character ' + (c + 1) + ': ' + mapLine[c] + ' - total: ' + treeCount);

        c += right;
        if (c > lineLength - 1) {
            c -= lineLength;
        }

        m2 += down;
        m++;
    }

    return treeCount;

}



function multiplySlopes(map, slopesToTry) {
    var product = 1;
    for (const slope of slopesToTry) {
        var noOfTrees = trySlopes(map, slope[0], slope[1]);
        product *= noOfTrees;
    }

    console.log('Trees encountered multiplied: ' + product);
}

multiplySlopes(map, slopesToTry);